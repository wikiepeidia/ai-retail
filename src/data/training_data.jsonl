{"messages": [{"role": "user", "content": "Tạo quy trình tự động đăng bài lên Facebook Fanpage khi có thông tin mới trong Google Sheet. Bài viết cần có ảnh và caption hấp dẫn."}, {"role": "assistant", "content": "<think>User wants Social Media Automation. Input: Google Sheets (Content + Image URL). Logic: 1. Watch Sheet. 2. Download Image. 3. Resize Image (Standardize). 4. Use AI to write Caption. 5. Post to Facebook Page.</think> ```json\n{\n  \"name\": \"Auto Post to Facebook Page\",\n  \"trigger\": {\"type\": \"webhook\", \"source\": \"google_sheets_new_row\"},\n  \"steps\": [\n    {\"id\": 1, \"action\": \"google_sheets_get_row\", \"params\": {\"sheet\": \"Yêu cầu\", \"range\": \"F2:F\"}},\n    {\"id\": 2, \"action\": \"image_download\", \"params\": {\"url\": \"{{step_1.image_url}}\"}},\n    {\"id\": 3, \"action\": \"image_resize\", \"params\": {\"width\": 2048, \"height\": 2048}},\n    {\"id\": 4, \"action\": \"ai_generate_text\", \"params\": {\"prompt\": \"Write engaging FB caption for mom & baby product\", \"model\": \"gemini-2.5-flash\"}},\n    {\"id\": 5, \"action\": \"facebook_page_create_post\", \"params\": {\"page_id\": \"108020151131905\", \"image\": \"{{step_3.data}}\", \"message\": \"{{step_4.result}}\"}}\n  ]\n}\n```"}]}
{"messages": [{"role": "user", "content": "Xây dựng tool so sánh giá nhập từ nhà cung cấp. Nếu giá sữa tăng thì báo cáo lại."}, {"role": "assistant", "content": "<think>User needs Price Comparison Logic. Context: Retail/Milk. Steps: 1. Trigger (Webhook). 2. Read 'Import Logs'. 3. Filter for 'Milk' (Sữa). 4. Aggregate Data. 5. AI Analysis (Compare old vs new price). 6. Write to 'Comparison Sheet'.</think> ```json\n{\n  \"name\": \"Import Price Comparison - Milk\",\n  \"trigger\": {\"type\": \"webhook\", \"hook_id\": \"2325054\"},\n  \"steps\": [\n    {\"id\": 1, \"action\": \"google_sheets_read\", \"params\": {\"sheet\": \"DON NHAP HANG\", \"range\": \"A9:H\"}},\n    {\"id\": 2, \"action\": \"filter\", \"conditions\": [{\"field\": \"product_name\", \"operator\": \"contains\", \"value\": \"Sữa\"}]},\n    {\"id\": 3, \"action\": \"ai_analyze_price\", \"params\": {\"instruction\": \"Compare import prices over time. Flag increases > 5%.\", \"data\": \"{{step_2.rows}}\"}},\n    {\"id\": 4, \"action\": \"google_sheets_write\", \"params\": {\"sheet\": \"So sánh giá\", \"data\": \"{{step_3.analysis_result}}\"}}\n  ]\n}\n```"}]}
{"messages": [{"role": "user", "content": "Tìm kiếm khách hàng VIP đã chi tiêu trên 5 triệu để chăm sóc."}, {"role": "assistant", "content": "<think>User wants Customer Segmentation. Logic: 1. Read Customer Data. 2. Router: Check 'Total Spending'. 3. Path A (VIP): Spend >= 5,000,000. 4. Update status to 'VIP'.</think> ```json\n{\n  \"name\": \"Customer VIP Classification\",\n  \"trigger\": {\"type\": \"webhook\", \"hook_id\": \"2402940\"},\n  \"steps\": [\n    {\"id\": 1, \"action\": \"google_sheets_read\", \"params\": {\"sheet\": \"KHACH HANG\", \"range\": \"A2:Z\"}},\n    {\"id\": 2, \"action\": \"router\", \"routes\": [\n      {\n        \"name\": \"Is VIP\",\n        \"condition\": \"total_spending >= 5000000\",\n        \"steps\": [\n          {\"id\": 2.1, \"action\": \"google_sheets_update_row\", \"params\": {\"status\": \"VIP\", \"customer_id\": \"{{step_1.customer_id}}\"}}\n        ]\n      },\n      {\n        \"name\": \"Is Regular\",\n        \"condition\": \"total_spending < 5000000\",\n        \"steps\": []\n      }\n    ]}\n  ]\n}\n```"}]}
{"messages": [{"role": "user", "content": "Tự động kiểm tra kho hàng khi có yêu cầu tìm sản phẩm (Bỉm, Sữa, Mỹ phẩm)."}, {"role": "assistant", "content": "<think>User needs Inventory Search Router. Logic: 1. Receive Request. 2. Router based on Keyword (Bỉm, Sữa, Son...). 3. Search specific category sheet. 4. Return results.</think> ```json\n{\n  \"name\": \"Product Inventory Search\",\n  \"trigger\": {\"type\": \"webhook\", \"hook_id\": \"2272727\"},\n  \"steps\": [\n    {\"id\": 1, \"action\": \"router\", \"routes\": [\n      {\"name\": \"Diapers\", \"condition\": \"keyword == 'Bỉm'\", \"steps\": [{\"action\": \"sheet_search\", \"sheet\": \"Tổng sản phẩm\", \"filter\": \"Bỉm\"}]},\n      {\"name\": \"Milk\", \"condition\": \"keyword == 'Sữa'\", \"steps\": [{\"action\": \"sheet_search\", \"sheet\": \"Tổng sản phẩm\", \"filter\": \"Sữa\"}]},\n      {\"name\": \"Cosmetics\", \"condition\": \"keyword contains 'Son' OR 'Kem'\", \"steps\": [{\"action\": \"sheet_search\", \"sheet\": \"Tổng sản phẩm\", \"filter\": \"Mỹ phẩm\"}]}\n    ]},\n    {\"id\": 2, \"action\": \"google_sheets_write\", \"params\": {\"sheet\": \"Sản phẩm tìm kiếm\", \"data\": \"{{step_1.result}}\"}}\n  ]\n}\n```"}]}
{"messages": [{"role": "user", "content": "Lập báo cáo thống kê doanh thu sản phẩm theo tháng gửi qua email."}, {"role": "assistant", "content": "<think>User wants Monthly Reporting. Logic: 1. Trigger (Email 'thống kê'). 2. Get Sales Data (Sheets). 3. Aggregate by Product. 4. AI Analyst (Calculate Top 5, Revenue). 5. Generate Excel. 6. Reply Email.</think> ```json\n{\n  \"name\": \"Monthly Sales Report\",\n  \"trigger\": {\"type\": \"email\", \"filter\": \"subject: 'thống kê sản phẩm'\"},\n  \"steps\": [\n    {\"id\": 1, \"action\": \"google_sheets_read\", \"params\": {\"sheet\": \"Báo cáo thống kê\", \"range\": \"A2:I\"}},\n    {\"id\": 2, \"action\": \"ai_analyze\", \"params\": {\"prompt\": \"Analyze top 5 best sellers and total revenue. Output formatting: Vietnamese.\", \"model\": \"gemini-2.0-flash\"}},\n    {\"id\": 3, \"action\": \"google_drive_upload\", \"params\": {\"filename\": \"Báo cáo tháng {{now}}.xlsx\", \"content\": \"{{step_2.result}}\"}}\n  ]\n}\n```"}]}